{% extends 'base.html' %}

{% block title %}Transactions{% endblock %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3">Transactions</h1>
    <div>
      <a class="btn btn-primary me-2" href="/add">Add</a>
      <a class="btn btn-secondary me-2" href="/report">Report</a>
      <a class="btn btn-outline-secondary" href="/categories">Categories</a>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th>Description</th>
          <th>Amount</th>
          <th>Category</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
      {% for r in rows %}
        <tr>
          <td>{{ r.description or '' }}</td>
          <td>{{ '%.2f'|format(r.amount) }}</td>
          <td>{{ r.category or '' }}</td>
          <td class="text-nowrap">
            <a class="btn btn-sm btn-outline-primary" href="/edit/{{ r.id }}">Edit</a>
            <form method="post" action="/delete/{{ r.id }}" style="display:inline; margin-left:6px">
              <button class="btn btn-sm btn-outline-danger" type="submit" onclick="return confirm('Delete this transaction?')">Delete</button>
            </form>
          </td>
        </tr>
      {% else %}
        <tr><td colspan="4" class="text-center">No transactions yet</td></tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
